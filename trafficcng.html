<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart CNG Analytics | Meerut</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #00f5d4;
            --secondary: #0099cc;
            --accent1: #ff4081;
            --accent2: #9c27b0;
            --accent3: #ff9800;
            --accent4: #4caf50;
            --dark: #0a1929;
            --darker: #051321;
            --light: #e0f7fa;
            --card-bg: rgba(16, 32, 54, 0.8);
        }

        body {
            background: linear-gradient(135deg, var(--darker), var(--dark));
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid rgba(0, 245, 212, 0.2);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo i {
            font-size: 2.5rem;
            color: var(--primary);
            text-shadow: 0 0 15px var(--primary);
            animation: logo-pulse 3s infinite;
        }

        @keyframes logo-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .logo h1 {
            font-size: 1.8rem;
            background: linear-gradient(90deg, var(--primary), var(--accent1), var(--accent2));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
            text-shadow: 0 0 10px rgba(0, 245, 212, 0.5);
        }

        .header-right {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 5px;
        }

        .real-time-clock {
            font-size: 1.1rem;
            color: var(--primary);
            font-weight: 600;
            background: rgba(0, 245, 212, 0.1);
            padding: 8px 15px;
            border-radius: 20px;
            border: 1px solid rgba(0, 245, 212, 0.3);
        }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            color: var(--accent4);
            animation: pulse 2s infinite;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: var(--accent4);
            border-radius: 50%;
            animation: blink 1.5s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .nav-links {
            display: flex;
            gap: 30px;
        }

        .nav-links a {
            color: var(--light);
            text-decoration: none;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 15px;
            border-radius: 20px;
        }

        .nav-links a:hover {
            color: var(--primary);
            background: rgba(0, 245, 212, 0.1);
            box-shadow: 0 0 15px rgba(0, 245, 212, 0.3);
        }

        .nav-links a.active {
            color: var(--primary);
            background: rgba(0, 245, 212, 0.15);
            box-shadow: 0 0 15px rgba(0, 245, 212, 0.4);
        }

        .hero {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 40px 0;
        }

        .hero h2 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            background: linear-gradient(90deg, var(--primary), var(--accent1), var(--accent3));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 10px rgba(0, 245, 212, 0.3);
        }

        .hero p {
            font-size: 1.3rem;
            max-width: 800px;
            line-height: 1.6;
            margin-bottom: 30px;
            color: #b3e5fc;
        }

        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 40px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 245, 212, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent1), var(--accent2));
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0, 245, 212, 0.2);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0, 245, 212, 0.2);
        }

        .card-header h3 {
            font-size: 1.5rem;
            color: var(--primary);
        }

        .card-header i {
            font-size: 1.8rem;
            color: var(--accent1);
        }

        .map-container {
            height: 500px;
            grid-column: 1 / -1;
            position: relative;
            overflow: hidden;
            border-radius: 15px;
        }

        .map {
            height: 100%;
            background: linear-gradient(135deg, #1a3a5f, #0a1929);
            border-radius: 15px;
            position: relative;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(41, 98, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(233, 30, 99, 0.1) 0%, transparent 50%);
        }

        .map-roads {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .road {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .road-horizontal {
            height: 8px;
            width: 80%;
            top: 30%;
            left: 10%;
        }

        .road-vertical {
            width: 8px;
            height: 70%;
            top: 15%;
            left: 45%;
        }

        .road-diagonal {
            width: 8px;
            height: 40%;
            transform: rotate(45deg);
            top: 40%;
            left: 60%;
        }

        .pump-marker {
            position: absolute;
            width: 24px;
            height: 24px;
            background: var(--accent1);
            border-radius: 50% 50% 50% 0;
            transform: rotate(-45deg);
            cursor: pointer;
            box-shadow: 0 0 15px var(--accent1);
            transition: all 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        .pump-marker i {
            transform: rotate(45deg);
            color: white;
            font-size: 12px;
        }

        .pump-marker::after {
            content: '';
            position: absolute;
            width: 36px;
            height: 36px;
            border: 2px solid var(--accent1);
            border-radius: 50%;
            top: -8px;
            left: -8px;
            animation: pulse 2s infinite;
        }

        .pump-marker:hover {
            transform: rotate(-45deg) scale(1.4);
            box-shadow: 0 0 25px var(--accent1);
            z-index: 20;
        }

        .pump-marker.active {
            transform: rotate(-45deg) scale(1.4);
            box-shadow: 0 0 25px var(--accent1);
            z-index: 20;
        }

        .pump-marker.free {
            background: var(--accent4);
            box-shadow: 0 0 15px var(--accent4);
        }

        .pump-marker.free::after {
            border-color: var(--accent4);
        }

        .pump-marker.moderate {
            background: var(--accent3);
            box-shadow: 0 0 15px var(--accent3);
        }

        .pump-marker.moderate::after {
            border-color: var(--accent3);
        }

        .pump-marker.busy {
            background: var(--accent1);
            box-shadow: 0 0 15px var(--accent1);
        }

        .pump-marker.busy::after {
            border-color: var(--accent1);
        }

        @keyframes pulse {
            0% {
                transform: scale(0.8);
                opacity: 1;
            }
            100% {
                transform: scale(2);
                opacity: 0;
            }
        }

        .pump-info {
            position: absolute;
            background: rgba(10, 25, 41, 0.95);
            border: 1px solid var(--primary);
            border-radius: 10px;
            padding: 20px;
            width: 280px;
            bottom: 30px;
            right: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.4s ease;
            z-index: 30;
        }

        .pump-info.active {
            transform: translateY(0);
            opacity: 1;
        }

        .pump-info h4 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .pump-info h4 i {
            color: var(--accent1);
        }

        .pump-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .stat {
            text-align: center;
            padding: 8px;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .stat:hover {
            background: rgba(0, 245, 212, 0.1);
            transform: translateY(-5px);
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.8rem;
            color: #b3e5fc;
        }

        .traffic-chart {
            height: 300px;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .data-table th, .data-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(0, 245, 212, 0.1);
            transition: all 0.3s ease;
        }

        .data-table th {
            color: var(--primary);
            font-weight: 600;
        }

        .data-table tr {
            transition: all 0.3s ease;
        }

        .data-table tr:hover {
            background: rgba(0, 245, 212, 0.08);
            transform: translateX(5px);
        }

        .status-busy {
            color: #ff5252;
        }

        .status-moderate {
            color: #ffb74d;
        }

        .status-free {
            color: #69f0ae;
        }

        .recommendation {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, rgba(0, 245, 212, 0.1), rgba(156, 39, 176, 0.1));
            border: 1px solid rgba(0, 245, 212, 0.3);
        }

        .recommendation-content {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .recommendation i {
            font-size: 3rem;
            color: var(--accent2);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .recommendation-text h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .recommendation-text p {
            line-height: 1.6;
            color: #b3e5fc;
        }

        .data-highlights {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .highlight {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(0, 245, 212, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .highlight::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 245, 212, 0.1), transparent);
            transition: left 0.5s;
        }

        .highlight:hover::before {
            left: 100%;
        }

        .highlight:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 245, 212, 0.2);
        }

        .highlight i {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .highlight-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--accent1);
            margin: 10px 0;
            transition: all 0.3s ease;
        }

        .highlight:hover .highlight-value {
            color: var(--primary);
            transform: scale(1.1);
        }

        .highlight-label {
            font-size: 0.9rem;
            color: #b3e5fc;
        }

        .update-time {
            font-size: 0.8rem;
            color: var(--accent3);
            margin-top: 5px;
        }

        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
            border-top: 1px solid rgba(0, 245, 212, 0.2);
            color: #b3e5fc;
            font-size: 0.9rem;
        }

        .glow {
            text-shadow: 0 0 10px rgba(0, 245, 212, 0.7);
        }

        /* Responsive Design */
        @media (max-width: 1100px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .data-highlights {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .hero h2 {
                font-size: 2.5rem;
            }
            
            .map-container {
                height: 400px;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .header-right {
                align-items: center;
            }
            
            .data-highlights {
                grid-template-columns: 1fr;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .recommendation-content {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-gas-pump"></i>
                <h1>SMART CNG <span class="glow">ANALYTICS</span></h1>
            </div>
            <div class="header-right">
                <div class="real-time-clock" id="realTimeClock">
                    <i class="fas fa-clock"></i> 
                    <span id="currentTime">Loading...</span>
                </div>
                <div class="live-indicator">
                    <div class="live-dot"></div>
                    <span>LIVE DATA UPDATING</span>
                </div>
            </div>
            <nav class="nav-links">
                <a href="#" class="active"><i class="fas fa-home"></i> Dashboard</a>
                <a href="#"><i class="fas fa-map-marked-alt"></i> Map View</a>
                <a href="#"><i class="fas fa-chart-line"></i> Analytics</a>
                <a href="#"><i class="fas fa-cog"></i> Settings</a>
            </nav>
        </header>

        <section class="hero">
            <h2>CNG Pump Traffic Analysis <span class="glow">Meerut</span></h2>
            <p>Real-time monitoring and predictive analytics for CNG stations across Meerut. Identify underutilized pumps and optimize fuel distribution.</p>
        </section>

        <div class="data-highlights">
            <div class="highlight">
                <i class="fas fa-gas-pump"></i>
                <div class="highlight-value" id="totalStations">14</div>
                <div class="highlight-label">CNG Stations</div>
                <div class="update-time" id="stationsUpdate">Updated: <span>Just now</span></div>
            </div>
            <div class="highlight">
                <i class="fas fa-car"></i>
                <div class="highlight-value" id="avgUtilization">72%</div>
                <div class="highlight-label">Average Utilization</div>
                <div class="update-time" id="utilizationUpdate">Updated: <span>Just now</span></div>
            </div>
            <div class="highlight">
                <i class="fas fa-clock"></i>
                <div class="highlight-value" id="avgWaitTime">6.2m</div>
                <div class="highlight-label">Avg Wait Time</div>
                <div class="update-time" id="waitTimeUpdate">Updated: <span>Just now</span></div>
            </div>
            <div class="highlight">
                <i class="fas fa-bolt"></i>
                <div class="highlight-value" id="availability">87%</div>
                <div class="highlight-label">Availability</div>
                <div class="update-time" id="availabilityUpdate">Updated: <span>Just now</span></div>
            </div>
        </div>

        <div class="dashboard">
            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-traffic-light"></i> Traffic Intensity</h3>
                    <i class="fas fa-car-side"></i>
                </div>
                <div class="traffic-chart">
                    <canvas id="trafficChart"></canvas>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-list-ol"></i> Pump Status</h3>
                    <i class="fas fa-battery-three-quarters"></i>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Location</th>
                            <th>Wait Time</th>
                            <th>Status</th>
                            <th>Last Update</th>
                        </tr>
                    </thead>
                    <tbody id="pumpStatusTable">
                        <tr>
                            <td><i class="fas fa-map-marker-alt" style="color: var(--accent1);"></i> Delhi Road</td>
                            <td id="delhi-wait">5-7 mins</td>
                            <td class="status-moderate">Moderate</td>
                            <td class="update-time">Just now</td>
                        </tr>
                        <tr>
                            <td><i class="fas fa-map-marker-alt" style="color: var(--accent4);"></i> Shastri Nagar</td>
                            <td id="shastri-wait">2-3 mins</td>
                            <td class="status-free">Free</td>
                            <td class="update-time">Just now</td>
                        </tr>
                        <tr>
                            <td><i class="fas fa-map-marker-alt" style="color: var(--accent1);"></i> Rohta Road</td>
                            <td id="rohta-wait">10-12 mins</td>
                            <td class="status-busy">Busy</td>
                            <td class="update-time">Just now</td>
                        </tr>
                        <tr>
                            <td><i class="fas fa-map-marker-alt" style="color: var(--accent4);"></i> Pallavpuram</td>
                            <td id="pallav-wait">1-2 mins</td>
                            <td class="status-free">Free</td>
                            <td class="update-time">Just now</td>
                        </tr>
                        <tr>
                            <td><i class="fas fa-map-marker-alt" style="color: var(--accent1);"></i> Ganganagar</td>
                            <td id="ganga-wait">8-10 mins</td>
                            <td class="status-busy">Busy</td>
                            <td class="update-time">Just now</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="card map-container">
                <div class="map" id="meerutMap">
                    <div class="map-roads">
                        <div class="road road-horizontal"></div>
                        <div class="road road-vertical"></div>
                        <div class="road road-diagonal"></div>
                    </div>
                    
                    <!-- Map markers will be positioned here -->
                    <div class="pump-marker moderate" style="top: 30%; left: 45%;" data-pump="delhi-road">
                        <i class="fas fa-gas-pump"></i>
                    </div>
                    <div class="pump-marker free" style="top: 50%; left: 35%;" data-pump="shastri-nagar">
                        <i class="fas fa-gas-pump"></i>
                    </div>
                    <div class="pump-marker busy" style="top: 60%; left: 60%;" data-pump="rohta-road">
                        <i class="fas fa-gas-pump"></i>
                    </div>
                    <div class="pump-marker free" style="top: 40%; left: 55%;" data-pump="pallavpuram">
                        <i class="fas fa-gas-pump"></i>
                    </div>
                    <div class="pump-marker busy" style="top: 70%; left: 40%;" data-pump="ganganagar">
                        <i class="fas fa-gas-pump"></i>
                    </div>
                    
                    <div class="pump-info" id="pump-info">
                        <h4><i class="fas fa-gas-pump"></i> <span id="pump-name">Delhi Road CNG Station</span></h4>
                        <p>Current wait time: <span id="pump-wait" class="status-moderate">5-7 minutes</span></p>
                        <p>Vehicles in queue: <span id="pump-queue">8</span></p>
                        <p>Last updated: <span id="pump-update" class="update-time">Just now</span></p>
                        <div class="pump-stats">
                            <div class="stat">
                                <div class="stat-value" id="pump-capacity">72%</div>
                                <div class="stat-label">Capacity</div>
                            </div>
                            <div class="stat">
                                <div class="stat-value" id="pump-rating">4.2</div>
                                <div class="stat-label">Rating</div>
                            </div>
                            <div class="stat">
                                <div class="stat-value" id="pump-hours">24/7</div>
                                <div class="stat-label">Hours</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-chart-bar"></i> Utilization Trends</h3>
                    <i class="fas fa-chart-pie"></i>
                </div>
                <div class="traffic-chart">
                    <canvas id="utilizationChart"></canvas>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-clock"></i> Peak Hours Analysis</h3>
                    <i class="fas fa-business-time"></i>
                </div>
                <div class="traffic-chart">
                    <canvas id="peakHoursChart"></canvas>
                </div>
            </div>

            <div class="card recommendation">
                <div class="recommendation-content">
                    <i class="fas fa-lightbulb"></i>
                    <div class="recommendation-text">
                        <h3>Smart Recommendation</h3>
                        <p id="recommendation-text">Based on current traffic patterns, we recommend directing vehicles to Shastri Nagar and Pallavpuram stations during peak hours (8-10 AM, 5-7 PM) to reduce wait times by an estimated 40%.</p>
                        <p class="update-time" style="margin-top: 10px;">Last analysis: <span id="recommendation-time">Just now</span></p>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>Smart CNG Analytics Platform &copy; 2023 | Developed for Meerut City | Data updates in real-time</p>
            <p>Last system update: <span id="footer-time">Loading...</span></p>
        </footer>
    </div>

    <script>
        // Real-time clock function
        function updateRealTimeClock() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-IN', { 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit',
                hour12: true 
            });
            const dateString = now.toLocaleDateString('en-IN', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            document.getElementById('currentTime').textContent = `${timeString} | ${dateString}`;
            document.getElementById('footer-time').textContent = now.toLocaleString();
        }

        // Update clock immediately and then every second
        updateRealTimeClock();
        setInterval(updateRealTimeClock, 1000);

        // Traffic Chart
        const trafficCtx = document.getElementById('trafficChart').getContext('2d');
        const trafficChart = new Chart(trafficCtx, {
            type: 'doughnut',
            data: {
                labels: ['Free Flow', 'Moderate', 'Heavy Traffic'],
                datasets: [{
                    data: [35, 40, 25],
                    backgroundColor: [
                        '#4caf50',
                        '#ff9800',
                        '#ff4081'
                    ],
                    borderWidth: 0,
                    hoverOffset: 15
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: '#e0f7fa',
                            font: {
                                size: 14
                            }
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(10, 25, 41, 0.9)',
                        titleColor: '#00f5d4',
                        bodyColor: '#e0f7fa',
                        borderColor: '#00f5d4',
                        borderWidth: 1
                    }
                }
            }
        });

        // Utilization Chart
        const utilizationCtx = document.getElementById('utilizationChart').getContext('2d');
        const utilizationChart = new Chart(utilizationCtx, {
            type: 'bar',
            data: {
                labels: ['Delhi Road', 'Shastri Nagar', 'Rohta Road', 'Pallavpuram', 'Ganganagar'],
                datasets: [{
                    label: 'Capacity Utilization (%)',
                    data: [72, 35, 88, 28, 79],
                    backgroundColor: [
                        'rgba(255, 152, 0, 0.7)',
                        'rgba(76, 175, 80, 0.7)',
                        'rgba(255, 64, 129, 0.7)',
                        'rgba(76, 175, 80, 0.7)',
                        'rgba(255, 64, 129, 0.7)'
                    ],
                    borderColor: [
                        '#ff9800',
                        '#4caf50',
                        '#ff4081',
                        '#4caf50',
                        '#ff4081'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        ticks: {
                            color: '#b3e5fc'
                        },
                        grid: {
                            color: 'rgba(179, 229, 252, 0.1)'
                        }
                    },
                    x: {
                        ticks: {
                            color: '#b3e5fc'
                        },
                        grid: {
                            display: false
                        }
                    }
                },
                plugins: {
                    legend: {
                        labels: {
                            color: '#e0f7fa'
                        }
                    }
                }
            }
        });

        // Peak Hours Chart
        const peakCtx = document.getElementById('peakHoursChart').getContext('2d');
        const peakChart = new Chart(peakCtx, {
            type: 'line',
            data: {
                labels: ['6 AM', '8 AM', '10 AM', '12 PM', '2 PM', '4 PM', '6 PM', '8 PM', '10 PM'],
                datasets: [{
                    label: 'Average Wait Time (mins)',
                    data: [3, 12, 5, 3, 4, 8, 14, 6, 4],
                    borderColor: '#00f5d4',
                    backgroundColor: 'rgba(0, 245, 212, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: '#00f5d4',
                    pointRadius: 5,
                    pointHoverRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            color: '#b3e5fc'
                        },
                        grid: {
                            color: 'rgba(179, 229, 252, 0.1)'
                        }
                    },
                    x: {
                        ticks: {
                            color: '#b3e5fc'
                        },
                        grid: {
                            color: 'rgba(179, 229, 252, 0.1)'
                        }
                    }
                },
                plugins: {
                    legend: {
                        labels: {
                            color: '#e0f7fa'
                        }
                    }
                }
            }
        });

        // Interactive map markers
        const pumpInfo = document.getElementById('pump-info');
        const pumpData = {
            'delhi-road': {
                name: 'Delhi Road CNG Station',
                waitTime: '5-7 minutes',
                status: 'moderate',
                vehicles: 8,
                capacity: 72,
                rating: 4.2,
                hours: '24/7',
                lastUpdate: 'Just now'
            },
            'shastri-nagar': {
                name: 'Shastri Nagar CNG Station',
                waitTime: '2-3 minutes',
                status: 'free',
                vehicles: 3,
                capacity: 35,
                rating: 4.5,
                hours: '6 AM - 11 PM',
                lastUpdate: 'Just now'
            },
            'rohta-road': {
                name: 'Rohta Road CNG Station',
                waitTime: '10-12 minutes',
                status: 'busy',
                vehicles: 15,
                capacity: 88,
                rating: 3.8,
                hours: '24/7',
                lastUpdate: 'Just now'
            },
            'pallavpuram': {
                name: 'Pallavpuram CNG Station',
                waitTime: '1-2 minutes',
                status: 'free',
                vehicles: 2,
                capacity: 28,
                rating: 4.7,
                hours: '5 AM - 12 AM',
                lastUpdate: 'Just now'
            },
            'ganganagar': {
                name: 'Ganganagar CNG Station',
                waitTime: '8-10 minutes',
                status: 'busy',
                vehicles: 12,
                capacity: 79,
                rating: 4.0,
                hours: '24/7',
                lastUpdate: 'Just now'
            }
        };

        document.querySelectorAll('.pump-marker').forEach(marker => {
            marker.addEventListener('click', function() {
                // Remove active class from all markers
                document.querySelectorAll('.pump-marker').forEach(m => {
                    m.classList.remove('active');
                });
                
                // Add active class to clicked marker
                this.classList.add('active');
                
                const pump = this.getAttribute('data-pump');
                const data = pumpData[pump];
                
                // Update pump info panel
                document.getElementById('pump-name').textContent = data.name;
                document.getElementById('pump-wait').textContent = data.waitTime;
                document.getElementById('pump-wait').className = `status-${data.status}`;
                document.getElementById('pump-queue').textContent = data.vehicles;
                document.getElementById('pump-update').textContent = data.lastUpdate;
                document.getElementById('pump-capacity').textContent = `${data.capacity}%`;
                document.getElementById('pump-rating').textContent = data.rating;
                document.getElementById('pump-hours').textContent = data.hours;
                
                // Show the info panel with animation
                pumpInfo.classList.add('active');
            });
        });

        // Close pump info when clicking elsewhere on the map
        document.getElementById('meerutMap').addEventListener('click', function(e) {
            if (!e.target.closest('.pump-marker') && !e.target.closest('.pump-info')) {
                pumpInfo.classList.remove('active');
                document.querySelectorAll('.pump-marker').forEach(m => {
                    m.classList.remove('active');
                });
            }
        });

        // Function to update time labels
        function updateTimeLabels() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-IN', { 
                hour: '2-digit', 
                minute: '2-digit',
                hour12: true 
            });
            
            document.querySelectorAll('.update-time span').forEach(span => {
                span.textContent = timeString;
            });
            
            document.getElementById('recommendation-time').textContent = timeString;
        }

        // Function to simulate real-time data updates
        function updateRealTimeData() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-IN', { 
                hour: '2-digit', 
                minute: '2-digit',
                hour12: true 
            });
            
            // Update highlight values with slight variations
            document.getElementById('totalStations').textContent = Math.floor(14 + Math.random() * 2);
            document.getElementById('avgUtilization').textContent = Math.floor(70 + Math.random() * 6) + '%';
            document.getElementById('avgWaitTime').textContent = (5.8 + Math.random() * 0.8).toFixed(1) + 'm';
            document.getElementById('availability').textContent = Math.floor(85 + Math.random() * 4) + '%';
            
            // Update time labels
            updateTimeLabels();
            
            // Update pump wait times with realistic variations
            const pumps = ['delhi', 'shastri', 'rohta', 'pallav', 'ganga'];
            pumps.forEach(pump => {
                const currentWait = document.getElementById(`${pump}-wait`).textContent;
                const baseWait = parseInt(currentWait.split('-')[0]);
                const variation = Math.floor(Math.random() * 3) - 1; // -1, 0, or 1
                const newWait = Math.max(1, baseWait + variation);
                document.getElementById(`${pump}-wait`).textContent = `${newWait}-${newWait + 2} mins`;
            });
            
            // Update traffic chart data
            trafficChart.data.datasets[0].data = trafficChart.data.datasets[0].data.map(value => {
                const change = Math.floor(Math.random() * 5) - 2;
                return Math.max(5, value + change);
            });
            trafficChart.update();
            
            // Update utilization chart data
            utilizationChart.data.datasets[0].data = utilizationChart.data.datasets[0].data.map(value => {
                const change = Math.floor(Math.random() * 6) - 3;
                return Math.max(10, Math.min(95, value + change));
            });
            utilizationChart.update();
            
            // Update peak hours data based on actual time
            const currentHour = now.getHours();
            if (currentHour >= 7 && currentHour <= 9) {
                // Morning peak
                peakChart.data.datasets[0].data[1] = 12 + Math.floor(Math.random() * 3);
                peakChart.data.datasets[0].data[2] = 8 + Math.floor(Math.random() * 2);
            } else if (currentHour >= 17 && currentHour <= 19) {
                // Evening peak
                peakChart.data.datasets[0].data[6] = 14 + Math.floor(Math.random() * 3);
                peakChart.data.datasets[0].data[7] = 9 + Math.floor(Math.random() * 2);
            }
            peakChart.update();
            
            // Update recommendation based on time
            updateRecommendation();
        }

        // Function to update smart recommendation
        function updateRecommendation() {
            const now = new Date();
            const currentHour = now.getHours();
            let recommendation = '';
            
            if (currentHour >= 7 && currentHour <= 10) {
                recommendation = 'Morning peak detected. We recommend using Shastri Nagar and Pallavpuram stations to avoid 15-20 minute wait times at busier locations.';
            } else if (currentHour >= 17 && currentHour <= 20) {
                recommendation = 'Evening rush hour in progress. Ganganagar and Rohta Road stations are experiencing high traffic. Try Delhi Road for shorter queues.';
            } else if (currentHour >= 12 && currentHour <= 14) {
                recommendation = 'Lunch hours showing moderate traffic. All stations are operating efficiently with wait times under 5 minutes.';
            } else if (currentHour >= 22 || currentHour <= 5) {
                recommendation = 'Late night hours - Most stations have minimal queues. 24/7 stations are operating at under 30% capacity.';
            } else {
                recommendation = 'Normal operating conditions. All stations are within optimal capacity ranges.';
            }
            
            document.getElementById('recommendation-text').textContent = recommendation;
            updateTimeLabels();
        }

        // Initialize real-time updates
        updateRealTimeData();
        updateRecommendation();
        
        // Update data every 10 seconds
        setInterval(updateRealTimeData, 10000);
        
        // Update time labels every minute
        setInterval(updateTimeLabels, 60000);
    </script>
</body>
</html>